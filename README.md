# Advanced Sample Hardhat Project

This project demonstrates an advanced Hardhat use case, integrating other tools commonly used alongside Hardhat in the ecosystem.

The project comes with a sample contract, a test for that contract, a sample script that deploys that contract, and an example of a task implementation, which simply lists the available accounts. It also comes with a variety of other tools, preconfigured to work with the project code.

Try running some of the following tasks:

```shell
npx hardhat accounts
npx hardhat compile
npx hardhat clean
npx hardhat test
npx hardhat node
npx hardhat help
REPORT_GAS=true npx hardhat test
npx hardhat coverage
npx hardhat run scripts/deploy.js
node scripts/deploy.js
npx eslint '**/*.js'
npx eslint '**/*.js' --fix
npx prettier '**/*.{json,sol,md}' --check
npx prettier '**/*.{json,sol,md}' --write
npx solhint 'contracts/**/*.sol'
npx solhint 'contracts/**/*.sol' --fix
```

# Etherscan verification

To try out Etherscan verification, you first need to deploy a contract to an Ethereum network that's supported by Etherscan, such as Ropsten.

In this project, copy the .env.example file to a file named .env, and then edit it to fill in the details. Enter your Etherscan API key, your Ropsten node URL (eg from Alchemy), and the private key of the account which will send the deployment transaction. With a valid .env file in place, first deploy your contract:

```shell
hardhat run --network ropsten scripts/deploy.js
```

Then, copy the deployment address and paste it in to replace `DEPLOYED_CONTRACT_ADDRESS` in this command:

```shell
npx hardhat verify --network ropsten DEPLOYED_CONTRACT_ADDRESS "Hello, Hardhat!"
```

## Gas estimation
```
·--------------------------------------------------------------|---------------------------|-------------|-----------------------------·
|                     Solc version: 0.8.11                     ·  Optimizer enabled: true  ·  Runs: 200  ·  Block limit: 30000000 gas  │
·······························································|···························|·············|······························
|  Methods                                                     ·               5 gwei/gas                ·       372.86 usd/bnb        │
·····························|·································|·············|·············|·············|···············|··············
|  Contract                  ·  Method                         ·  Min        ·  Max        ·  Avg        ·  # calls      ·  usd (avg)  │
·····························|·································|·············|·············|·············|···············|··············
|  ERC20                     ·  approve                        ·          -  ·          -  ·      46287  ·           10  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  PRNG                      ·  rotate                         ·      26767  ·      43867  ·      32467  ·            6  ·       0.06  │
·····························|·································|·············|·············|·············|···············|··············
|  StackingReceipt           ·  approve                        ·      46287  ·      46299  ·      46288  ·           21  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  StackingReceipt           ·  mint                           ·      53455  ·      70579  ·      57674  ·          126  ·       0.11  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableAuction           ·  bid                            ·      72574  ·      84286  ·      79081  ·            9  ·       0.15  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableAuction           ·  endAuction                     ·      90923  ·     116432  ·     101457  ·            4  ·       0.19  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableAuction           ·  withdraw                       ·          -  ·          -  ·      41666  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  bid                            ·      87503  ·     104603  ·     101397  ·           16  ·       0.19  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  endAuction                     ·      90581  ·     116427  ·     100658  ·            4  ·       0.19  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  reveal                         ·      82147  ·     105112  ·      91631  ·            9  ·       0.17  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  withdraw                       ·          -  ·          -  ·      41666  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMarketplace       ·  createAuction                  ·    1092080  ·    1131981  ·    1121994  ·            8  ·       2.09  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMarketplace       ·  createBlindAuction             ·          -  ·          -  ·    1386535  ·            2  ·       2.58  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMarketplace       ·  updateRoyalty                  ·          -  ·          -  ·      63825  ·            1  ·       0.12  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMasterchef        ·  mintStackingPanda              ·          -  ·          -  ·    1388470  ·            1  ·       2.59  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  deposit                        ·     149856  ·     161192  ·     158503  ·            6  ·       0.30  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  depositWithNFT                 ·     298638  ·     315738  ·     300776  ·            8  ·       0.56  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  dismissionWithdraw             ·          -  ·          -  ·     363276  ·            1  ·       0.68  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  increaseRewardPool             ·          -  ·          -  ·      70909  ·            1  ·       0.13  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  pause                          ·          -  ·          -  ·      40918  ·            4  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  refreshErasInfo                ·          -  ·          -  ·     302719  ·            1  ·       0.56  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  refreshReceiptValue            ·      58347  ·     320555  ·     268113  ·            5  ·       0.50  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  resume                         ·          -  ·          -  ·      40865  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateDaoFeePercentage         ·          -  ·          -  ·      54139  ·            1  ·       0.10  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateEarlyWithdrawFeePercent  ·          -  ·          -  ·      47312  ·            1  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateEraScaleFactor           ·          -  ·          -  ·      76277  ·            1  ·       0.14  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateFeeReceiverAddress       ·          -  ·          -  ·      43436  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateMaintainerFeePercentage  ·          -  ·          -  ·      54053  ·            1  ·       0.10  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateRewardScaleFactor        ·          -  ·          -  ·      76223  ·            1  ·       0.14  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateWithdrawFeePeriod        ·      43451  ·      43473  ·      43462  ·            2  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  withdraw                       ·     171835  ·     407096  ·     346900  ·            5  ·       0.65  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  withdrawWithNFT                ·     199469  ·     422474  ·     338349  ·            3  ·       0.63  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableStackingPanda     ·  approve                        ·          -  ·          -  ·      48777  ·           26  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableStackingPanda     ·  mint                           ·     193029  ·     261429  ·     232156  ·          236  ·       0.43  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableStackingPanda     ·  transferFrom                   ·      57563  ·      62387  ·      57944  ·           26  ·       0.11  │
·····························|·································|·············|·············|·············|···············|··············
|  Deployments                                                 ·                                         ·  % of limit   ·             │
·······························································|·············|·············|·············|···············|··············
|  PRNG                                                        ·          -  ·          -  ·     119955  ·        0.4 %  ·       0.22  │
·······························································|·············|·············|·············|···············|··············
|  StackingReceipt                                             ·          -  ·          -  ·    1313938  ·        4.4 %  ·       2.45  │
·······························································|·············|·············|·············|···············|··············
|  TestableAuction                                             ·     994024  ·     994048  ·     994037  ·        3.3 %  ·       1.85  │
·······························································|·············|·············|·············|···············|··············
|  TestableBlindAuction                                        ·    1309836  ·    1309860  ·    1309847  ·        4.4 %  ·       2.44  │
·······························································|·············|·············|·············|···············|··············
|  TestableMarketplace                                         ·          -  ·          -  ·    3319548  ·       11.1 %  ·       6.19  │
·······························································|·············|·············|·············|···············|··············
|  TestableMasterchef                                          ·          -  ·          -  ·    5945240  ·       19.8 %  ·      11.08  │
·······························································|·············|·············|·············|···············|··············
|  TestableMelodityStacking                                    ·    7012289  ·    7012313  ·    7012310  ·       23.4 %  ·      13.07  │
·······························································|·············|·············|·············|···············|··············
|  TestableStackingPanda                                       ·    1797986  ·    1798010  ·    1798009  ·          6 %  ·       3.35  │
·--------------------------------------------------------------|-------------|-------------|-------------|---------------|-------------·
```