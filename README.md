# Advanced Sample Hardhat Project

This project demonstrates an advanced Hardhat use case, integrating other tools commonly used alongside Hardhat in the ecosystem.

The project comes with a sample contract, a test for that contract, a sample script that deploys that contract, and an example of a task implementation, which simply lists the available accounts. It also comes with a variety of other tools, preconfigured to work with the project code.

Try running some of the following tasks:

```shell
npx hardhat accounts
npx hardhat compile
npx hardhat clean
npx hardhat test
npx hardhat node
npx hardhat help
REPORT_GAS=true npx hardhat test
npx hardhat coverage
npx hardhat run scripts/deploy.js
node scripts/deploy.js
npx eslint '**/*.js'
npx eslint '**/*.js' --fix
npx prettier '**/*.{json,sol,md}' --check
npx prettier '**/*.{json,sol,md}' --write
npx solhint 'contracts/**/*.sol'
npx solhint 'contracts/**/*.sol' --fix
```

# Etherscan verification

To try out Etherscan verification, you first need to deploy a contract to an Ethereum network that's supported by Etherscan, such as Ropsten.

In this project, copy the .env.example file to a file named .env, and then edit it to fill in the details. Enter your Etherscan API key, your Ropsten node URL (eg from Alchemy), and the private key of the account which will send the deployment transaction. With a valid .env file in place, first deploy your contract:

```shell
hardhat run --network ropsten scripts/deploy.js
```

Then, copy the deployment address and paste it in to replace `DEPLOYED_CONTRACT_ADDRESS` in this command:

```shell
npx hardhat verify --network ropsten DEPLOYED_CONTRACT_ADDRESS "Hello, Hardhat!"
```

## Gas estimation
```
·--------------------------------------------------------------|---------------------------|-------------|-----------------------------·
|                     Solc version: 0.8.11                     ·  Optimizer enabled: true  ·  Runs: 200  ·  Block limit: 30000000 gas  │
·······························································|···························|·············|······························
|  Methods                                                     ·               5 gwei/gas                ·       375.88 usd/bnb        │
·····························|·································|·············|·············|·············|···············|··············
|  Contract                  ·  Method                         ·  Min        ·  Max        ·  Avg        ·  # calls      ·  usd (avg)  │
·····························|·································|·············|·············|·············|···············|··············
|  ERC20                     ·  approve                        ·          -  ·          -  ·      46287  ·           10  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  PRNG                      ·  rotate                         ·      26870  ·      43970  ·      32570  ·            6  ·       0.06  │
·····························|·································|·············|·············|·············|···············|··············
|  StackingReceipt           ·  approve                        ·      46275  ·      46299  ·      46287  ·           21  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  StackingReceipt           ·  mint                           ·      53455  ·      70579  ·      57676  ·          130  ·       0.11  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableAuction           ·  bid                            ·      72677  ·      84389  ·      79184  ·            9  ·       0.15  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableAuction           ·  endAuction                     ·      91026  ·     116535  ·     101560  ·            4  ·       0.19  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableAuction           ·  withdraw                       ·          -  ·          -  ·      41769  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  bid                            ·      87606  ·     104706  ·     101500  ·           16  ·       0.19  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  endAuction                     ·      90684  ·     116530  ·     100761  ·            4  ·       0.19  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  reveal                         ·      82250  ·     105215  ·      91734  ·            9  ·       0.17  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableBlindAuction      ·  withdraw                       ·          -  ·          -  ·      41769  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMarketplace       ·  createAuction                  ·    1092492  ·    1132393  ·    1122406  ·            8  ·       2.11  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMarketplace       ·  createBlindAuction             ·          -  ·          -  ·    1386947  ·            2  ·       2.61  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMarketplace       ·  updateRoyalty                  ·          -  ·          -  ·      63928  ·            1  ·       0.12  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMasterchef        ·  addPandaIdentificationInfo     ·      77879  ·      94979  ·      83579  ·            6  ·       0.16  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMasterchef        ·  mintStackingPanda              ·          -  ·          -  ·    1397013  ·            1  ·       2.63  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  deposit                        ·     150054  ·     158590  ·     156367  ·            6  ·       0.29  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  depositWithNFT                 ·     296139  ·     313239  ·     298277  ·            8  ·       0.56  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  dismissionWithdraw             ·          -  ·          -  ·     363379  ·            1  ·       0.68  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  increaseRewardPool             ·          -  ·          -  ·      71012  ·            1  ·       0.13  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  pause                          ·          -  ·          -  ·      41021  ·            4  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  refreshErasInfo                ·          -  ·          -  ·     302822  ·            1  ·       0.57  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  refreshReceiptValue            ·      46022  ·     771414  ·     220901  ·           15  ·       0.42  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  resume                         ·          -  ·          -  ·      40968  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateDaoFeePercentage         ·          -  ·          -  ·      54242  ·            1  ·       0.10  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateEarlyWithdrawFeePercent  ·          -  ·          -  ·      47415  ·            1  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateEraScaleFactor           ·          -  ·          -  ·      76380  ·            1  ·       0.14  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateFeeReceiverAddress       ·          -  ·          -  ·      43539  ·            1  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateMaintainerFeePercentage  ·          -  ·          -  ·      54156  ·            1  ·       0.10  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateRewardScaleFactor        ·          -  ·          -  ·      76326  ·            1  ·       0.14  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  updateWithdrawFeePeriod        ·      43554  ·      43576  ·      43565  ·            2  ·       0.08  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  withdraw                       ·      99771  ·     407294  ·     234720  ·            5  ·       0.44  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableMelodityStacking  ·  withdrawWithNFT                ·     118705  ·     196970  ·     154583  ·            3  ·       0.29  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableStackingPanda     ·  approve                        ·          -  ·          -  ·      48777  ·           26  ·       0.09  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableStackingPanda     ·  mint                           ·     193132  ·     261532  ·     232505  ·          238  ·       0.44  │
·····························|·································|·············|·············|·············|···············|··············
|  TestableStackingPanda     ·  transferFrom                   ·      57563  ·      62387  ·      57944  ·           26  ·       0.11  │
·····························|·································|·············|·············|·············|···············|··············
|  Deployments                                                 ·                                         ·  % of limit   ·             │
·······························································|·············|·············|·············|···············|··············
|  PRNG                                                        ·          -  ·          -  ·     132595  ·        0.4 %  ·       0.25  │
·······························································|·············|·············|·············|···············|··············
|  StackingReceipt                                             ·          -  ·          -  ·    1313938  ·        4.4 %  ·       2.47  │
·······························································|·············|·············|·············|···············|··············
|  TestableAuction                                             ·     994115  ·     994139  ·     994128  ·        3.3 %  ·       1.87  │
·······························································|·············|·············|·············|···············|··············
|  TestableBlindAuction                                        ·    1309939  ·    1309963  ·    1309950  ·        4.4 %  ·       2.46  │
·······························································|·············|·············|·············|···············|··············
|  TestableMarketplace                                         ·          -  ·          -  ·    3319524  ·       11.1 %  ·       6.24  │
·······························································|·············|·············|·············|···············|··············
|  TestableMasterchef                                          ·          -  ·          -  ·    6341184  ·       21.1 %  ·      11.92  │
·······························································|·············|·············|·············|···············|··············
|  TestableMelodityStacking                                    ·    7011197  ·    7011209  ·    7011206  ·       23.4 %  ·      13.18  │
·······························································|·············|·············|·············|···············|··············
|  TestableStackingPanda                                       ·    1797998  ·    1798010  ·    1798009  ·          6 %  ·       3.38  │
·--------------------------------------------------------------|-------------|-------------|-------------|---------------|-------------·
```